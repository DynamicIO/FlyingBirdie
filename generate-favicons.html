<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favicon Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        .preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        .preview-item {
            text-align: center;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
        }
        canvas {
            display: block;
            margin: 5px auto;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Flying Birdie Favicon Generator</h1>
        <p>This tool converts the SVG favicon to different PNG sizes needed for your website.</p>
        
        <button onclick="generateAllFavicons()">Generate All Favicon Sizes</button>
        <button onclick="downloadAll()">Download All as ZIP</button>
        
        <div class="preview" id="preview"></div>
    </div>

    <script>
        const sizes = [
            { name: 'favicon-16x16.png', size: 16 },
            { name: 'favicon-32x32.png', size: 32 },
            { name: 'favicon-48x48.png', size: 48 },
            { name: 'favicon-64x64.png', size: 64 },
            { name: 'favicon-128x128.png', size: 128 },
            { name: 'favicon-256x256.png', size: 256 },
            { name: 'favicon-512x512.png', size: 512 },
            { name: 'apple-touch-icon.png', size: 180 }
        ];

        const svgContent = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
  <!-- Background circle -->
  <circle cx="256" cy="256" r="256" fill="#87CEEB"/>
  
  <!-- Bird body -->
  <ellipse cx="256" cy="280" rx="120" ry="100" fill="#FFD700"/>
  
  <!-- Bird head -->
  <circle cx="256" cy="200" r="80" fill="#FFD700"/>
  
  <!-- Bird beak -->
  <path d="M 176 200 L 140 190 L 176 210 Z" fill="#FF6B35"/>
  
  <!-- Bird eye -->
  <circle cx="240" cy="180" r="15" fill="#000"/>
  <circle cx="245" cy="175" r="5" fill="#FFF"/>
  
  <!-- Wing -->
  <ellipse cx="300" cy="250" rx="60" ry="40" fill="#FFA500" transform="rotate(15 300 250)"/>
  
  <!-- Wing detail -->
  <ellipse cx="310" cy="240" rx="40" ry="25" fill="#FF8C00" transform="rotate(15 310 240)"/>
  
  <!-- Tail feathers -->
  <ellipse cx="350" cy="300" rx="30" ry="15" fill="#FFA500" transform="rotate(30 350 300)"/>
  <ellipse cx="360" cy="320" rx="25" ry="12" fill="#FF8C00" transform="rotate(45 360 320)"/>
  
  <!-- Small decorative elements (sparkles) -->
  <circle cx="180" cy="150" r="3" fill="#FFF" opacity="0.8"/>
  <circle cx="350" cy="180" r="2" fill="#FFF" opacity="0.8"/>
  <circle cx="320" cy="140" r="2" fill="#FFF" opacity="0.8"/>
  <circle cx="200" cy="120" r="2" fill="#FFF" opacity="0.8"/>
</svg>`;

        let generatedImages = [];

        function generateAllFavicons() {
            const preview = document.getElementById('preview');
            preview.innerHTML = '';
            generatedImages = [];

            sizes.forEach(({ name, size }) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = size;
                canvas.height = size;

                const img = new Image();
                const svgBlob = new Blob([svgContent], { type: 'image/svg+xml' });
                const url = URL.createObjectURL(svgBlob);

                img.onload = function() {
                    ctx.drawImage(img, 0, 0, size, size);
                    
                    // Create preview
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    previewItem.innerHTML = `
                        <h4>${name}</h4>
                        <canvas width="${size}" height="${size}"></canvas>
                        <br>
                        <button onclick="downloadImage('${name}', '${canvas.toDataURL()}')">Download</button>
                    `;
                    
                    const previewCanvas = previewItem.querySelector('canvas');
                    const previewCtx = previewCanvas.getContext('2d');
                    previewCtx.drawImage(img, 0, 0, size, size);
                    
                    preview.appendChild(previewItem);
                    
                    // Store for batch download
                    generatedImages.push({
                        name: name,
                        dataUrl: canvas.toDataURL()
                    });
                    
                    URL.revokeObjectURL(url);
                };

                img.src = url;
            });
        }

        function downloadImage(filename, dataUrl) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = dataUrl;
            link.click();
        }

        function downloadAll() {
            if (generatedImages.length === 0) {
                alert('Please generate the favicons first!');
                return;
            }

            generatedImages.forEach(({ name, dataUrl }) => {
                setTimeout(() => {
                    downloadImage(name, dataUrl);
                }, 100);
            });

            // Also create and download favicon.ico
            setTimeout(() => {
                const favicon32 = generatedImages.find(img => img.name === 'favicon-32x32.png');
                if (favicon32) {
                    downloadImage('favicon.ico', favicon32.dataUrl);
                }
            }, 1000);
        }
    </script>
</body>
</html> 